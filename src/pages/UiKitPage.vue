<template>
  <div class="ui-kit-page">
    <div class="ui-kit-page__buttons">
      <ui-button size="small" :text="'button'" />
      <ui-button size="small" :text="'button'" scheme="flat" />
      <ui-button size="small" :text="'button'" scheme="none" />

      <ui-button size="small" :text="'button'" color="success" />
      <ui-button size="small" :text="'button'" scheme="flat" color="success" />
      <ui-button size="small" :text="'button'" scheme="none" color="success" />

      <ui-button size="small" :text="'button'" color="error" />
      <ui-button size="small" :text="'button'" scheme="flat" color="error" />
      <ui-button size="small" :text="'button'" scheme="none" color="error" />

      <ui-button size="small" :text="'button'" color="warning" />
      <ui-button size="small" :text="'button'" scheme="flat" color="warning" />
      <ui-button size="small" :text="'button'" scheme="none" color="warning" />

      <ui-button size="small" :text="'button'" color="warning" />
      <ui-button size="small" :text="'button'" scheme="flat" color="warning" />
      <ui-button size="small" :text="'button'" scheme="none" color="warning" />

      <ui-button size="small" :text="'button'" color="info" />
      <ui-button size="small" :text="'button'" scheme="flat" color="info" />
      <ui-button size="small" :text="'button'" scheme="none" color="info" />
    </div>
    <div class="ui-kit-page__buttons">
      <ui-button :text="'button'" />
      <ui-button :text="'button'" scheme="flat" />
      <ui-button :text="'button'" scheme="none" />

      <ui-button :text="'button'" modification="border-circle" />
      <ui-button :text="'button'" scheme="flat" modification="border-circle" />
      <ui-button :text="'button'" scheme="none" modification="border-circle" />

      <ui-button :text="'button'" modification="border-rounded" />
      <ui-button :text="'button'" scheme="flat" modification="border-rounded" />
      <ui-button :text="'button'" scheme="none" modification="border-rounded" />

      <ui-button :text="'button'" modification="none" />
      <ui-button :text="'button'" scheme="flat" modification="none" />
      <ui-button :text="'button'" scheme="none" modification="none" />
    </div>
    <div class="ui-kit-page__buttons">
      <ui-button size="large" :text="'button'" />
      <ui-button size="large" :text="'button'" scheme="flat" />
      <ui-button size="large" :text="'button'" scheme="none" />
    </div>
    <div class="ui-kit-page__buttons">
      <ui-button size="small" :icon-right="$icons.Plus" />
      <ui-button size="small" :icon-right="$icons.Plus" scheme="flat" />
      <ui-button size="small" :icon-right="$icons.Plus" scheme="none" />

      <ui-button size="small" :icon-right="$icons.Plus" color="success" />
      <ui-button size="small" :icon-right="$icons.Plus" scheme="flat" color="success" />
      <ui-button size="small" :icon-right="$icons.Plus" scheme="none" color="success" />

      <ui-button size="small" :icon-right="$icons.Plus" color="error" />
      <ui-button size="small" :icon-right="$icons.Plus" scheme="flat" color="error" />
      <ui-button size="small" :icon-right="$icons.Plus" scheme="none" color="error" />

      <ui-button size="small" :icon-right="$icons.Plus" color="warning" />
      <ui-button size="small" :icon-right="$icons.Plus" scheme="flat" color="warning" />
      <ui-button size="small" :icon-right="$icons.Plus" scheme="none" color="warning" />

      <ui-button size="small" :icon-right="$icons.Plus" color="warning" />
      <ui-button size="small" :icon-right="$icons.Plus" scheme="flat" color="warning" />
      <ui-button size="small" :icon-right="$icons.Plus" scheme="none" color="warning" />

      <ui-button size="small" :icon-right="$icons.Plus" color="info" />
      <ui-button size="small" :icon-right="$icons.Plus" scheme="flat" color="info" />
      <ui-button size="small" :icon-right="$icons.Plus" scheme="none" color="info" />
    </div>
    <div class="ui-kit-page__buttons">
      <ui-button size="small" modification="border-circle" :icon-right="$icons.Plus" />
      <ui-button
        size="small"
        modification="border-circle"
        :icon-right="$icons.Plus"
        scheme="flat"
      />
      <ui-button
        size="small"
        modification="border-circle"
        :icon-right="$icons.Plus"
        scheme="none"
      />

      <ui-button
        size="small"
        modification="border-circle"
        :icon-right="$icons.Plus"
        color="success"
      />
      <ui-button
        size="small"
        modification="border-circle"
        :icon-right="$icons.Plus"
        scheme="flat"
        color="success"
      />
      <ui-button
        size="small"
        modification="border-circle"
        :icon-right="$icons.Plus"
        scheme="none"
        color="success"
      />

      <ui-button
        size="small"
        modification="border-circle"
        :icon-right="$icons.Plus"
        color="error"
      />
      <ui-button
        size="small"
        modification="border-circle"
        :icon-right="$icons.Plus"
        scheme="flat"
        color="error"
      />
      <ui-button
        size="small"
        modification="border-circle"
        :icon-right="$icons.Plus"
        scheme="none"
        color="error"
      />

      <ui-button
        size="small"
        modification="border-circle"
        :icon-right="$icons.Plus"
        color="warning"
      />
      <ui-button
        size="small"
        modification="border-circle"
        :icon-right="$icons.Plus"
        scheme="flat"
        color="warning"
      />
      <ui-button
        size="small"
        modification="border-circle"
        :icon-right="$icons.Plus"
        scheme="none"
        color="warning"
      />

      <ui-button
        size="small"
        modification="border-circle"
        :icon-right="$icons.Plus"
        color="warning"
      />
      <ui-button
        size="small"
        modification="border-circle"
        :icon-right="$icons.Plus"
        scheme="flat"
        color="warning"
      />
      <ui-button
        size="small"
        modification="border-circle"
        :icon-right="$icons.Plus"
        scheme="none"
        color="warning"
      />

      <ui-button size="small" modification="border-circle" :icon-right="$icons.Plus" color="info" />
      <ui-button
        size="small"
        modification="border-circle"
        :icon-right="$icons.Plus"
        scheme="flat"
        color="info"
      />
      <ui-button
        size="small"
        modification="border-circle"
        :icon-right="$icons.Plus"
        scheme="none"
        color="info"
      />
    </div>

    <div class="ui-kit-page__buttons">
      <ui-button
        size="small"
        :text="'bus.success'"
        color="success"
        @click="
          () =>
            bus.emit(BUS_EVENTS.success, {
              message: 'Some success message',
            })
        "
      />
      <ui-button
        size="small"
        :text="'bus.error'"
        color="error"
        @click="
          () =>
            bus.emit(BUS_EVENTS.error, {
              message: 'Some error message',
            })
        "
      />
      <ui-button
        size="small"
        :text="'bus.warning'"
        color="warning"
        @click="
          () =>
            bus.emit(BUS_EVENTS.warning, {
              message: 'Some warning message',
            })
        "
      />
      <ui-button
        size="small"
        :text="'bus.info'"
        color="info"
        @click="
          () =>
            bus.emit(BUS_EVENTS.info, {
              message: 'Some info message',
            })
        "
      />
      <ui-button
        size="small"
        :text="'bus.info'"
        color="info"
        @click="
          () =>
            bus.emit(BUS_EVENTS.success, {
              message: 'Some success message',
            })
        "
      />
      <ui-button
        size="small"
        :text="'custom'"
        color="info"
        @click="
          () =>
            bus.emit(BUS_EVENTS.success, {
              component: ErrorMessage,
              props: {
                message: 'Some custom message',
              },
            })
        "
      />

      <ui-button
        size="small"
        :text="'ErrorHandler.process'"
        color="error"
        @click="handleProcessError"
      />
    </div>

    <div class="ui-kit-page__inputs">
      <ui-input-field v-model="form.input" />
      <ui-input-field v-model="form.input" :label="'label'" />
      <ui-input-field v-model="form.input" :label="'label'" :placeholder="'placeholder'" />
      <ui-input-field
        v-model="form.input"
        :label="'label'"
        :placeholder="'placeholder'"
        :error-message="'error message'"
      />
      <ui-input-field v-model="form.input" :label="'label'" :placeholder="'placeholder'">
        <template #nodeLeft>
          <ui-icon class="input__icon" :name="$icons.Search" />
        </template>
      </ui-input-field>
      <ui-input-field v-model="form.input" :label="'label'" :placeholder="'placeholder'">
        <template #nodeLeft>
          <ui-icon class="input__icon" :name="$icons.Search" />
        </template>
        <template #nodeRight>
          <ui-icon class="input__icon" :name="$icons.Plus" />
        </template>
      </ui-input-field>
      <ui-input-field
        v-model="form.input"
        :label="'label'"
        :placeholder="'placeholder'"
        :note="'lorem ipsum dolor sit amet concestetur!'"
      >
        <template #nodeLeft>
          <ui-icon class="input__icon" :name="$icons.Search" />
        </template>
        <template #nodeRight>
          <ui-icon class="input__icon" :name="$icons.Plus" />
        </template>
      </ui-input-field>
      <ui-input-field
        v-model="form.input"
        :label="'label'"
        :placeholder="'placeholder'"
        :note="'lorem ipsum dolor sit amet concestetur!'"
        disabled
      >
        <template #nodeLeft>
          <ui-icon class="input__icon" :name="$icons.Search" />
        </template>
        <template #nodeRight>
          <ui-icon class="input__icon" :name="$icons.Plus" />
        </template>
      </ui-input-field>
    </div>

    <div class="ui-kit-page__select-fields">
      <ui-select v-model="form.select" :value-options="SELECT_OPTIONS" />
      <ui-select :label="`Label`" v-model="form.select" :value-options="SELECT_OPTIONS" />
      <ui-select
        :label="`Label`"
        v-model="form.select"
        :value-options="SELECT_OPTIONS"
        error-message="error message"
      />
      <ui-select
        :label="`Label`"
        v-model="form.select"
        :value-options="SELECT_OPTIONS"
        note="Note message"
      />
      <ui-basic-select
        :label="`Label`"
        v-model="form.select"
        :value-options="
          SELECT_OPTIONS.map(el => ({
            title: String(el).concat('++'),
            value: el,
          }))
        "
      />
      <ui-select :label="`Label`" v-model="form.select" :value-options="SELECT_OPTIONS" disabled />
      <ui-basic-select
        :label="`Label`"
        v-model="form.select"
        :value-options="
          SELECT_OPTIONS.map(el => ({
            title: String(el).concat('++'),
            value: el,
          }))
        "
        disabled
      />

      <ui-textarea v-model="form.textarea" />
      <ui-textarea v-model="form.textarea" :label="`Label`" />
      <ui-textarea v-model="form.textarea" :label="`Label`" error-message="Error message" />

      <ui-checkbox v-model="form.checkbox" />
      <ui-checkbox v-model="form.checkbox" :label="`Label`" />
      <ui-checkbox v-model="form.checkbox" :label="`Label`" disabled />

      <ui-switch v-model="form.switch" :value="String(form.switch)" />
      <ui-switch v-model="form.switch" :value="String(form.switch)" :label="`Label`" />
      <ui-switch v-model="form.switch" :value="String(form.switch)" disabled />
    </div>

    <section class="ui-kit-page__form">
      <login-form />
    </section>

    <section class="ui-kit-page__common">
      <error-message :message="$t('ui-kit-page.loading-error-msg')" />
      <no-data-message :message="$t('ui-kit-page.no-data-msg')" />
      <ui-loader />
      <ui-loader class="ui-kit-page__loader-skeleton" scheme="skeleton" />
      <ui-accordion class="ui-kit-page__collapse">
        <template #head="{ toggle }">
          <ui-button
            class="ui-kit-page__accordion-btn"
            scheme="flat"
            :text="$t('ui-kit-page.accordion-btn')"
            @click="toggle"
          >
          </ui-button>
        </template>
        <div class="ui-kit-page__accordion-body">
          {{ $t('ui-kit-page.collapse-text') }}
        </div>
      </ui-accordion>
      <div class="ui-kit-page__collapse-wrp">
        <ui-button text="Toggle collapse" @click="() => (isCollapseShown = !isCollapseShown)" />
        <ui-collapse :is-shown="isCollapseShown">
          <div class="ui-kit-page__collapse-body">
            {{ $t('ui-kit-page.collapse-text') }}
          </div>
        </ui-collapse>
      </div>
      <ui-button :text="$t('ui-kit-page.modal-btn')" @click="isModalShown = true" />
      <ui-basic-modal
        class="ui-kit-page__basic-modal"
        v-model:is-shown="isModalShown"
        :title="`Modal Title`"
        :subtitle="`Lorem ipsum dolor sit amet, consectetur adipisicing elit.`"
      >
        <div class="ui-kit-page__modal-body">
          {{ $t('ui-kit-page.collapse-text') }}
        </div>
      </ui-basic-modal>
      <div class="ui-kit-page__icons">
        <ui-tooltip>
          <template #trigger>
            <ui-icon class="ui-kit-page__icons-item" :name="$icons.AcademicCap" />
          </template>
          <template #default>
            <ui-icon class="ui-kit-page__icons-item" :name="$icons.AcademicCap" />
          </template>
        </ui-tooltip>
        <ui-icon class="ui-kit-page__icons-item" :name="$icons.AcademicCap" />
        <ui-icon class="ui-kit-page__icons-item" :name="$icons.Adjustments" />
        <ui-icon class="ui-kit-page__icons-item" :name="$icons.Annotation" />
        <ui-icon class="ui-kit-page__icons-item" :name="$icons.Archive" />
        <ui-icon class="ui-kit-page__icons-item" :name="$icons.ArrowCircleDown" />
        <ui-icon class="ui-kit-page__icons-item" :name="$icons.ArrowCircleLeft" />
        <ui-icon class="ui-kit-page__icons-item" :name="$icons.ArrowCircleRight" />
        <ui-icon class="ui-kit-page__icons-item" :name="$icons.arrowCircleUp" />
        <ui-icon class="ui-kit-page__icons-item" :name="$icons.ArrowDown" />
        <ui-icon class="ui-kit-page__icons-item" :name="$icons.ArrowLeft" />
      </div>
    </section>
  </div>
</template>

<script lang="ts" setup>
import { reactive, ref } from 'vue'

import LoginForm from '@/forms/LoginForm.vue'
import { bus, BUS_EVENTS, ErrorHandler } from '@/helpers'
import {
  ErrorMessage,
  NoDataMessage,
  UiAccordion,
  UiBasicModal,
  UiBasicSelect,
  UiButton,
  UiCheckbox,
  UiCollapse,
  UiIcon,
  UiInputField,
  UiLoader,
  UiSelect,
  UiSwitch,
  UiTextarea,
  UiTooltip,
} from '@/ui'

const isModalShown = ref(false)
const isCollapseShown = ref(false)

const SELECT_OPTIONS = [1, 2, 3, 4, 5]

const form = reactive({
  input: '',
  select: '',
  textarea: '',
  checkbox: false,
  switch: false,
})

const handleProcessError = () => {
  ErrorHandler.process(new Error('some error message'))
}
</script>

<style lang="scss" scoped>
.ui-kit-page {
  display: flex;
  flex-direction: column;
  gap: toRem(24);
  padding: toRem(24) 0;
}

.ui-kit-page__buttons {
  display: flex;
  flex-wrap: wrap;
  gap: toRem(12);
}

.ui-kit-page__inputs,
.ui-kit-page__select-fields {
  display: grid;
  align-items: start;
  grid-template-columns: repeat(auto-fill, #{toRem(210)});
  grid-gap: toRem(36);
}

.input__icon {
  width: toRem(24);
  height: toRem(24);
}

.ui-kit-page__inputs {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: toRem(32);
}

.ui-kit-page__common {
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
  align-items: flex-end;
  gap: toRem(56);
}

.ui-kit-page__collapse {
  width: 100%;
}

.ui-kit-page__accordion-btn {
  width: 100%;
}

.ui-kit-page__accordion-body {
  font-size: toRem(24);
}

.ui-kit-page__collapse-wrp {
  display: flex;
  flex-direction: column;
  gap: toRem(16);
  width: 100%;
}

.ui-kit-page__collapse-body {
  width: 100%;
  font-size: toRem(24);
}

.ui-kit-page__icons {
  width: 100%;
  display: grid;
  grid-template-columns: repeat(auto-fill, toRem(24));
  grid-gap: toRem(24);
}

.ui-kit-page__icons-item {
  width: toRem(24);
  height: toRem(24);
}

.ui-kit-page__input-icon {
  max-width: toRem(24);
  max-height: toRem(24);
}

.ui-kit-page__loader-skeleton {
  width: toRem(200);
  height: toRem(24);
  margin-bottom: toRem(16);
}

.ui-kit-page__basic-modal {
  &::v-global(.basic-modal__pane) {
    --basic-modal-max-width: #{toRem(452)};
  }
}
</style>
